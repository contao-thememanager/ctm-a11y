var Accessibility=(()=>{var u=Object.defineProperty,o=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var l=(s,t,e)=>t in s?u(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,h=(s,t)=>{for(var e in t||(t={}))b.call(t,e)&&l(s,e,t[e]);if(n)for(var e of n(t))L.call(t,e)&&l(s,e,t[e]);return s},r=(s,t)=>o(s,f(t));var m=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var d=m((E,c)=>{class v{constructor(t){this.o=this.m({selector:"header .nav",minWidth:parseInt(window.getComputedStyle(document.body).getPropertyValue("--nav-bhr"),10)||1024,classes:{submenuButton:"btn-toggle-submenu",expand:"nav-expanded",skipLink:"skip-link",boundsRight:"bounds-right",boundsLeft:"bounds-left"},ariaLabels:{main:navAriaLabels.menu_main,expand:navAriaLabels.menu_expand,collapse:navAriaLabels.menu_collapse,scroll_to_top:navAriaLabels.scroll_to_top},toggleBounds:!1},t||{}),(this.s=document.querySelector(this.o.selector))&&(this.n=[],this.t=[],this.i=!1,this.h=parseInt(this.o.minWidth)!==0,this.v(),this.d(),this.g(),this.h&&this.E(),this.r())}m(t,e){return[...new Set([...Object.keys(t),...Object.keys(e)])].reduce((i,a)=>r(h({},i),{[a]:typeof t[a]=="object"?Object.assign({},t[a],e[a]):e[a]?e[a]:t[a]}),{})}E(){window.addEventListener("resize",()=>{window.innerWidth>=this.o.minWidth?this.r():this.x()},!1)}d(){this.a=document.createElement("button"),this.a.classList.add(this.o.classes.submenuButton),this.a.ariaHasPopup="true",this.a.ariaExpanded="false"}g(){const t=document.querySelector("#scrollTop");if(t&&!(t instanceof HTMLButtonElement)){const e=document.createElement("button"),i=document.createElement("span");i.classList.add("invisible"),i.innerText=this.o.ariaLabels.scroll_to_top,e.appendChild(i),t.appendChild(e)}}v(){this.s.ariaLabel||(this.s.ariaLabel=this.o.ariaLabels.main),this.s.querySelectorAll(".invisible").forEach(t=>t.classList.add(this.o.classes.skipLink)),this.s.querySelectorAll("li").forEach(t=>{t.classList.contains("submenu")&&this.n.push(t);const e=t.firstElementChild;e.classList.contains("active")&&(e.ariaCurrent="page"),!e.ariaLabel&&e.title&&(e.ariaLabel=e.title,e.removeAttribute("title"))}),document.addEventListener("keyup",t=>{t.key==="Escape"&&this.e()})}c(t,e){t.btn.ariaLabel=(e?this.o.ariaLabels.collapse:this.o.ariaLabels.expand)+t.btn.dataset.label,t.btn.ariaExpanded=e?"true":"false"}l(t){var e;t.classList.remove(this.o.classes.expand),this.o.toggleBounds&&((e=t.querySelector(":scope > ul"))==null||e.classList.remove(this.o.classes.boundsLeft,this.o.classes.boundsRight)),this.c(t,!1)}e(t=null){this.t.length!==0&&(this.t.includes(t)?(this.l(t),this.t=this.t.filter(e=>e!==t)):t===null||this.t[0]!==t&&!this.t[0].contains(t)?(this.t.forEach(e=>this.l(e)),this.t=[]):this.active=this.t.filter(e=>e.contains(t)?!0:(this.l(e),!1)))}p(t){const e=t.querySelector(":scope > ul");e!==null&&(e.getBoundingClientRect().right>=window.innerWidth?e.classList.add(this.o.classes.boundsRight):e.getBoundingClientRect().left<0&&e.classList.add(this.o.classes.boundsLeft))}C(t){this.e(t),t.classList.add(this.o.classes.expand),this.c(t,!0),this.o.toggleBounds&&this.p(t),this.t.includes(t)||this.t.push(t)}u(t,e){e?this.C(t):this.e(t)}y(t){const e=t.firstElementChild,i=this.a.cloneNode();t.btn=i,i.dataset.label=e.textContent,i.ariaLabel=this.o.ariaLabels.expand+e.textContent,i.addEventListener("click",()=>{const a=i.ariaExpanded==="false";this.u(t,a)}),e.after(i)}f(t,e){this.u(e,!0)}b(t,e){this.e(e)}L(t,e){t.relatedTarget&&this.t.length>0&&!e.contains(t.relatedTarget)&&this.e(e)}_(t){t.btn.remove(),t.removeEventListener("mouseenter",e=>this.f(e,t)),t.removeEventListener("mouseleave",e=>this.b(e,t)),t.removeEventListener("focusout",e=>this.L(e,t))}A(t){this.y(t),t.addEventListener("mouseenter",e=>this.f(e,t)),t.addEventListener("mouseleave",e=>this.b(e,t)),t.addEventListener("focusout",e=>this.L(e,t))}r(){this.i||this.h&&this.o.minWidth>=window.innerWidth||(this.n.forEach(t=>this.A(t)),this.i=!0)}x(){this.i&&(this.n.forEach(t=>this._(t)),this.i=!1)}}c.exports=v});return d();})();
