var Accessibility=(()=>{var c=Object.defineProperty,f=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var n=(s,t,e)=>t in s?c(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,l=(s,t)=>{for(var e in t||(t={}))m.call(t,e)&&n(s,e,t[e]);if(h)for(var e of h(t))L.call(t,e)&&n(s,e,t[e]);return s},r=(s,t)=>f(s,b(t));var v=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var o=v((g,u)=>{class E{constructor(t){this.o=this.L({selector:"header .nav",minWidth:parseInt(window.getComputedStyle(document.body).getPropertyValue("--nav-bhr"),10)||1024,classes:{submenuButton:"btn-toggle-submenu",expand:"nav-expanded",skipLink:"skip-link"},ariaLabels:{main:navAriaLabels.menu_main,expand:navAriaLabels.menu_expand,collapse:navAriaLabels.menu_collapse}},t||{}),(this.s=document.querySelector(this.o.selector))&&(this.h=[],this.t=[],this.i=!1,this.l=parseInt(this.o.minWidth)!==0,this.v(),this.E(),this.l&&this.x(),this.r())}L(t,e){return[...new Set([...Object.keys(t),...Object.keys(e)])].reduce((a,i)=>r(l({},a),{[i]:typeof t[i]=="object"?Object.assign({},t[i],e[i]):e[i]?e[i]:t[i]}),{})}x(){window.addEventListener("resize",()=>{window.innerWidth>=this.o.minWidth?this.r():this.g()},!1)}E(){this.a=document.createElement("button"),this.a.classList.add(this.o.classes.submenuButton),this.a.ariaHasPopup="true",this.a.ariaExpanded="false"}v(){this.s.ariaLabel||(this.s.ariaLabel=this.o.ariaLabels.main),this.s.querySelectorAll(".invisible").forEach(t=>t.classList.add(this.o.classes.skipLink)),this.s.querySelectorAll("li").forEach(t=>{t.classList.contains("submenu")&&this.h.push(t);const e=t.firstElementChild;e.classList.contains("active")&&(e.ariaCurrent="page"),!e.ariaLabel&&e.title&&(e.ariaLabel=e.title,e.removeAttribute("title"))}),document.addEventListener("keyup",t=>{t.key==="Escape"&&this.e()})}u(t,e){t.btn.ariaLabel=(e?this.o.ariaLabels.collapse:this.o.ariaLabels.expand)+t.btn.dataset.label,t.btn.ariaExpanded=e?"true":"false"}n(t){t.classList.remove(this.o.classes.expand),this.u(t,!1)}e(t=null){this.t.length!==0&&(this.t.includes(t)?(this.n(t),this.t=this.t.filter(e=>e!==t)):t===null||this.t[0]!==t&&!this.t[0].contains(t)?(this.t.forEach(e=>this.n(e)),this.t=[]):this.t.filter(e=>e.contains(t)?!0:(this.n(e),!1)))}A(t){this.e(t),t.classList.add(this.o.classes.expand),this.u(t,!0),this.t.includes(t)||this.t.push(t)}c(t,e){e?this.A(t):this.e(t)}y(t){const e=t.firstElementChild,a=this.a.cloneNode();t.btn=a,a.dataset.label=e.textContent,a.ariaLabel=this.o.ariaLabels.expand+e.textContent,a.addEventListener("click",()=>{const i=a.ariaExpanded==="false";this.c(t,i)}),e.after(a)}f(t,e){this.c(e,!0)}b(t,e){this.e(e)}m(t,e){t.relatedTarget&&this.t.length>0&&!e.contains(t.relatedTarget)&&this.e(e)}C(t){t.btn.remove(),t.removeEventListener("mouseenter",e=>this.f(e,t)),t.removeEventListener("mouseleave",e=>this.b(e,t)),t.removeEventListener("focusout",e=>this.m(e,t))}W(t){this.y(t),t.addEventListener("mouseenter",e=>this.f(e,t)),t.addEventListener("mouseleave",e=>this.b(e,t)),t.addEventListener("focusout",e=>this.m(e,t))}r(){this.i||this.l&&this.o.minWidth>=window.innerWidth||(this.h.forEach(t=>this.W(t)),this.i=!0)}g(){this.i&&(this.h.forEach(t=>this.C(t)),this.i=!1)}}u.exports=E});return o();})();
